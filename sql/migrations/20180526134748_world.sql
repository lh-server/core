DROP PROCEDURE IF EXISTS add_migration;
delimiter ??
CREATE PROCEDURE `add_migration`()
BEGIN
DECLARE v INT DEFAULT 1;
SET v = (SELECT COUNT(*) FROM `migrations` WHERE `id`='20180526134748');
IF v=0 THEN
INSERT INTO `migrations` VALUES ('20180526134748');
-- Add your query below.

UPDATE `creature_template` SET `speed_walk`='1', `scale`='0' WHERE `entry`='10375';

DELETE FROM `creature` WHERE `id` IN ('10374', '10375', '10376');
REPLACE INTO `creature` (`guid`, `id`, `map`, `modelid`, `equipment_id`, `position_x`, `position_y`, `position_z`, `orientation`, `spawntimesecsmin`, `spawntimesecsmax`, `spawndist`, `currentwaypoint`, `curhealth`, `curmana`, `DeathState`, `MovementType`) VALUES
-- Pat
('44349', '10374', '229', '0', '0', '-127.297', '-520.325', '11.7612', '1.586780', '7200', '7200', '0', '0', '8283', '0', '0', '2'),
-- GR 1
('44341', '10374', '229', '0', '0', '-115.997', '-546.753', '2.13922', '5.827920', '7200', '7200', '2', '0', '8283', '0', '0', '1'),
('44340', '10374', '229', '0', '0', '-109.584', '-558.254', '5.97215', '5.016080', '7200', '7200', '2', '0', '8283', '0', '0', '1'),
('44350', '10375', '229', '0', '0', '-104.987', '-548.240', '2.40518', '4.187700', '7200', '7200', '3', '0', '2568', '0', '0', '1'),
('44351', '10375', '229', '0', '0', '-103.748', '-553.987', '4.86079', '4.825850', '7200', '7200', '3', '0', '2568', '0', '0', '1'),
('44343', '10375', '229', '0', '0', '-110.213', '-551.456', '3.32568', '4.707060', '7200', '7200', '3', '0', '2568', '0', '0', '1'),
('44353', '10375', '229', '0', '0', '-116.352', '-553.506', '4.88814', '5.401010', '7200', '7200', '3', '0', '2568', '0', '0', '1'),
-- GR 2 (missing accurate data)
('44344', '10374', '229', '0', '0', '-139.079', '-543.960', '7.28465', '1.544500', '7200', '7200', '2', '0', '8283', '0', '0', '1'),
('44416', '10374', '229', '0', '0', '-146.663', '-538.030', '7.51950', '2.933440', '7200', '7200', '2', '0', '8283', '0', '0', '1'),
('44415', '10375', '229', '0', '0', '-135.254', '-538.651', '7.12265', '7.144860', '7200', '7200', '3', '0', '2568', '0', '0', '1'),
('44346', '10375', '229', '0', '0', '-141.288', '-537.482', '6.93766', '5.602510', '7200', '7200', '3', '0', '2568', '0', '0', '1'),
('44354', '10375', '229', '0', '0', '-147.480', '-544.562', '7.88285', '1.102460', '7200', '7200', '3', '0', '2568', '0', '0', '1'),
('44345', '10375', '229', '0', '0', '-139.028', '-532.190', '6.68119', '2.221220', '7200', '7200', '3', '0', '2568', '0', '0', '1'),
-- GR 3
('44422', '10376', '229', '0', '0', '-138.318', '-468.999', '13.8768', '0.206570', '604800', '604800', '2', '0', '9242', '0', '0', '1'),
('44376', '10374', '229', '0', '0', '-138.318', '-468.999', '13.8768', '0.206570', '7200', '7200', '2', '0', '8283', '0', '0', '1'),
('44347', '10374', '229', '0', '0', '-143.059', '-478.358', '12.8284', '0.798163', '7200', '7200', '2', '0', '8283', '0', '0', '1'),
('44355', '10375', '229', '0', '0', '-136.728', '-474.423', '12.8312', '2.082020', '7200', '7200', '3', '0', '2568', '0', '0', '1'),
('44348', '10375', '229', '0', '0', '-142.430', '-473.287', '14.7701', '0.926899', '7200', '7200', '3', '0', '2568', '0', '0', '1'),
('44356', '10375', '229', '0', '0', '-138.021', '-483.627', '11.5026', '4.643740', '7200', '7200', '3', '0', '2568', '0', '0', '1'),
('44374', '10375', '229', '0', '0', '-144.252', '-486.798', '12.2607', '3.249650', '7200', '7200', '3', '0', '2568', '0', '0', '1');

DELETE FROM `creature_movement` WHERE `id`='44349';
INSERT INTO `creature_movement` (`id`, `point`, `position_x`, `position_y`, `position_z`, `waittime`, `script_id`, `textid1`, `textid2`, `textid3`, `textid4`, `textid5`, `emote`, `spell`, `orientation`, `model1`, `model2`) VALUES
('44349', '1', '-127.151', '-511.369', '11.3636', '0', '0', '0', '0', '0', '0', '0', '0', '0', '100', '0', '0'),
('44349', '2', '-127.429', '-493.976', '11.3567', '0', '0', '0', '0', '0', '0', '0', '0', '0', '100', '0', '0'),
('44349', '3', '-127.005', '-504.143', '11.3607', '0', '0', '0', '0', '0', '0', '0', '0', '0', '100', '0', '0'),
('44349', '4', '-126.588', '-516.658', '11.7612', '0', '0', '0', '0', '0', '0', '0', '0', '0', '100', '0', '0'),
('44349', '5', '-126.609', '-520.664', '11.7612', '0', '0', '0', '0', '0', '0', '0', '0', '0', '100', '0', '0'),
('44349', '6', '-122.625', '-521.096', '11.7612', '0', '0', '0', '0', '0', '0', '0', '0', '0', '100', '0', '0'),
('44349', '7', '-116.240', '-521.575', '11.0583', '0', '0', '0', '0', '0', '0', '0', '0', '0', '100', '0', '0'),
('44349', '8', '-104.837', '-520.382', '10.8036', '0', '0', '0', '0', '0', '0', '0', '0', '0', '100', '0', '0'),
('44349', '9', '-116.714', '-521.250', '11.0689', '0', '0', '0', '0', '0', '0', '0', '0', '0', '100', '0', '0'),
('44349', '10', '-125.462', '-520.888', '11.7612', '0', '0', '0', '0', '0', '0', '0', '0', '0', '100', '0', '0'),
('44349', '11', '-127.024', '-530.692', '11.3652', '0', '0', '0', '0', '0', '0', '0', '0', '0', '100', '0', '0'),
('44349', '12', '-126.508', '-540.155', '11.3652', '0', '0', '0', '0', '0', '0', '0', '0', '0', '100', '0', '0'),
('44349', '13', '-126.758', '-552.192', '11.3652', '0', '0', '0', '0', '0', '0', '0', '0', '0', '100', '0', '0'),
('44349', '14', '-127.207', '-540.946', '11.3652', '0', '0', '0', '0', '0', '0', '0', '0', '0', '100', '0', '0'),
('44349', '15', '-126.976', '-530.475', '11.3652', '0', '0', '0', '0', '0', '0', '0', '0', '0', '100', '0', '0'),
('44349', '16', '-127.018', '-521.193', '11.7612', '0', '0', '0', '0', '0', '0', '0', '0', '0', '100', '0', '0'),
('44349', '17', '-130.026', '-520.442', '11.7612', '0', '0', '0', '0', '0', '0', '0', '0', '0', '100', '0', '0'),
('44349', '18', '-136.242', '-520.639', '11.3496', '0', '0', '0', '0', '0', '0', '0', '0', '0', '100', '0', '0'),
('44349', '19', '-141.835', '-520.482', '11.3498', '0', '0', '0', '0', '0', '0', '0', '0', '0', '100', '0', '0'),
('44349', '20', '-133.624', '-520.864', '11.3495', '0', '0', '0', '0', '0', '0', '0', '0', '0', '100', '0', '0'),
('44349', '21', '-127.177', '-520.906', '11.7612', '0', '0', '0', '0', '0', '0', '0', '0', '0', '100', '0', '0');

REPLACE INTO `creature_groups` (`leaderGUID`, `memberGUID`, `dist`, `angle`, `flags`) VALUES
('44341', '44340', '0', '0', '2'),
('44341', '44350', '0', '0', '2'),
('44341', '44351', '0', '0', '2'),
('44341', '44343', '0', '0', '2'),
('44341', '44353', '0', '0', '2'),
('44344', '44416', '0', '0', '2'),
('44344', '44415', '0', '0', '2'),
('44344', '44346', '0', '0', '2'),
('44344', '44354', '0', '0', '2'),
('44344', '44345', '0', '0', '2'),
('44374', '44422', '0', '0', '2'),
('44374', '44376', '0', '0', '2'),
('44374', '44347', '0', '0', '2'),
('44374', '44355', '0', '0', '2'),
('44374', '44348', '0', '0', '2'),
('44374', '44356', '0', '0', '2');

-- End of migration.
END IF;
END??
delimiter ; 
CALL add_migration();
DROP PROCEDURE IF EXISTS add_migration;
